@{
    ViewBag.Title = "Registro Soporte";
}
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<link href="~/Content/simple-sidebar.css" rel="stylesheet" />
@using (Html.BeginForm("RegistroSoporte", "Soporte", FormMethod.Post))
{ 
    <div class="container-fluid" style="margin-left: 20%;">
        
        <div class="col-md-8"></div>
        <h2>Registro de Solicitud de Soporte</h2>
        <div class="row">
            <form role="form">
                <div class="col-lg-6">
                    <div class="well well-sm"><strong>Campos Requeridos<span class="glyphicon glyphicon-asterisk" style="color: red;"></span></strong></div>
                    <table class="table borderless">
                        <tr>
                            <div class="form-group">
                                <label>IdUsuario</label>
                                <div class="input-group">
                                    <div>@User.Identity.Name</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Descripción Problema</label>
                                <div class="input-group">
                                    <textarea id="DescripcionProblema" name="DescripcionProblema" class="form-control" placeholder="Descripción del problema" maxlength="200"></textarea>
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk Requerido" style="color: red;"></span></span>
                                </div>
                            </div>
                            
                            <td>
                                <div class="form-group">
                                    <label>Fecha</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control datepicker" id="FechaRegistro" name="FechaRegistro" placeholder="Fecha del Registro" value="@string.Format("{0:dd-MM-yyyy}",DateTime.Now)" required>
                                        <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color: red;"></span></span>
                                    </div>
                                </div>
                            </td>
                            <div class="form-group">
                                <label>Anexar Documento o Imagen</label>
                                <div class="input-group">
                                    <input type="file" id="fileUpload" name="fileUpload" class="form-control" />
                                </div>
                            </div>
                            @*<div class="form-group">
                    <label>IdUsuario</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="IdUsuario" name="IdUsuario" required>
                        <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color:red;"></span></span>
                    </div>
                </div>*@<td>
                    <div class="form-group">
                        <label>Departamento</label>
                        <div class="input-group">
                            @Html.DropDownList("DepartamentId", null, "SELECCIONE", new { @class = "form-control Requerido" })
                            <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color: red;"></span></span>
                        </div>
                    </div>
                </td>
                        </tr>
                        <div class="form-group">
                            <label>Prioridad</label>
                            <div class="input-group">
                                @Html.DropDownList("IdSeveridad", null, "SELECCIONE", new { @class = "form-control Requerido" })
                                <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color: red;"></span></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Estado</label>
                            <div class="input-group">
                                @Html.DropDownList("IdEstado", null, "SELECCIONE", new { @class = "form-control", @disabled="disabled" })
                                <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color: red;"></span></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Tipo de Problema</label>
                            <div class="input-group">
                                @Html.DropDownList("IdProblem", null, "SELECCIONE", new { @class = "form-control Requerido"  })
                                <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color: red;"></span></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Tipo Solicitud</label>
                            <div class="input-group">
                                @Html.DropDownList("IdTipoSolicitud", null, "SELECCIONE", new { @class = "form-control Requerido" })
                                <span class="input-group-addon"><span class="glyphicon glyphicon-asterisk" style="color: red;"></span></span>
                            </div>
                        </div>

                    </table>
                    <input type="button" value="Guardar" onclick="Sumit()" class="btn btn-info pull-right">
                </div>
            </form>
        </div>
    </div>
}
<script src="~/Scripts/jquery.js"></script>
<script>
    //funcion validar form
    function Sumit() {

        if (ValidarForm()) {
            $('form').submit();
        } else {

            alert("Formulario Incompleto Favor Verificar Los Campos Marcados!!");
        }


    }

    //Funcion que alerta los campos requeridos.
    function ValidarForm() {
        var result = true;
        $(".Requerido").each(function () {
            if (this.value == '') {
                result = false;
                $(this).attr("style", "border-color:#FF8000; height:33px");
            }
        });

        return result;
    }

</script>
